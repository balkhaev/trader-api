# Digger - ะัะธะฟัะพะฒะฐะปััะฝะฐั ัะพัะณะพะฒะฐั ะฟะปะฐััะพัะผะฐ

ะะพะผะฟะปะตะบัะฝะฐั ะฟะปะฐััะพัะผะฐ ะดะปั ะฐะฝะฐะปะธะทะฐ ะบัะธะฟัะพะฒะฐะปััะฝัั ััะฝะบะพะฒ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ AI ะธ ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝะพะน ัะพัะณะพะฒะปะธ.

## ะััะธัะตะบัััะฐ

ะะปะฐััะพัะผะฐ ัะพััะพะธั ะธะท ัะปะตะดัััะธั ะผะธะบัะพัะตัะฒะธัะพะฒ:

### Bybit Service

- **ะะพัั**: 3005

### ๐ Tweet Analyzer (apps/backend/tweet-analyzer)

- **ะะพัั**: 3004
- **ะขะตัะฝะพะปะพะณะธะธ**: NestJS, TypeScript, BullMQ, Redis
- **ะคัะฝะบัะธะธ**: ะะฝะฐะปะธะท ัะฒะธัะพะฒ, ะณะตะฝะตัะฐัะธั ัะพัะณะพะฒัั ัะตะบะพะผะตะฝะดะฐัะธะน, ัะฟัะฐะฒะปะตะฝะธะต ะพัะตัะตะดัะผะธ
- **ะะฝัะตะณัะฐัะธั**: ะัะฟะพะปัะทัะตั AI Service ะดะปั ะฐะฝะฐะปะธะทะฐ ะบะพะฝัะตะฝัะฐ, ะฒัััะพะตะฝะฝัะต ะพัะตัะตะดะธ BullMQ ะดะปั ะฟะปะฐะฝะธัะพะฒะฐะฝะธั ะทะฐะดะฐั
- **ะัะตัะตะดะธ**: ะะฝะฐะปะธะท ัะฒะธัะพะฒ, ะพัะธััะบะฐ ะดะฐะฝะฝัั, ัะฒะตะดะพะผะปะตะฝะธั

### ๐ Freqtrade Manager (apps/backend/freqtrade-manager)

- **ะะพัั**: 3003
- **ะขะตัะฝะพะปะพะณะธะธ**: Node.js
- **ะคัะฝะบัะธะธ**: ะฃะฟัะฐะฒะปะตะฝะธะต ัะพัะณะพะฒัะผะธ ะฑะพัะฐะผะธ Freqtrade

### ๐ค AI Service (apps/backend/ai-service)

- **ะะพัั**: 3002
- **ะขะตัะฝะพะปะพะณะธะธ**: Python, FastAPI, CrewAI
- **ะคัะฝะบัะธะธ**: ะะฝะฐะปะธะท ะฝะพะฒะพััะตะน ะธ ัะฒะธัะพะฒ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ AI ะฐะณะตะฝัะพะฒ
- **API**: REST API ะดะปั ะฐะฝะฐะปะธะทะฐ ัะพะฝะฐะปัะฝะพััะธ ะธ ะทะฝะฐัะธะผะพััะธ ะบะพะฝัะตะฝัะฐ

### ๐ฆ Tweet Scraper (apps/backend/tweet-scraper)

- **ะะพัั**: 3001
- **ะขะตัะฝะพะปะพะณะธะธ**: Node.js
- **ะคัะฝะบัะธะธ**: ะกะฑะพั ัะฒะธัะพะฒ ะธะท Twitter/X

### ๐ Web Interface (apps/frontend/admin)

- **ะะพัั**: 3000
- **ะขะตัะฝะพะปะพะณะธะธ**: Next.js, React
- **ะคัะฝะบัะธะธ**: ะะตะฑ-ะธะฝัะตััะตะนั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฟะปะฐััะพัะผะพะน

### ๐๏ธ Redis

- **ะะพัั**: 6379
- **ะคัะฝะบัะธะธ**: ะฅัะฐะฝะธะปะธัะต ะดะปั ะพัะตัะตะดะตะน Bull.js

## ะัััััะน ััะฐัั

### ะะฐะฟััะบ ัะตัะตะท Docker Compose

```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
git clone <repository-url>
cd digger

# ะกะพะทะดะฐะฝะธะต ัะฐะนะปะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
cp .env.example .env
# ะััะตะดะฐะบัะธััะนัะต .env ัะฐะนะป ั ะฒะฐัะธะผะธ API ะบะปััะฐะผะธ

# ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose up -d

# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
docker-compose ps
```

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

#### Tweet Analyzer (ั ะฒัััะพะตะฝะฝัะผะธ ะพัะตัะตะดัะผะธ)

```bash
cd apps/backend/tweet-analyzer
npm install
npm run dev
```

#### AI Service

```bash
cd apps/backend/ai-service
pip install -r requirements.txt
uvicorn src.ai_service.main:app --reload --port 8000
```

## API Endpoints

### Tweet Analyzer (http://localhost:3002)

- `GET /health` - ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั (ะฒะบะปััะฐั AI Service)
- `GET /ai-service/health` - ะัะพะฒะตัะบะฐ AI Service
- `GET /analyze/search?query=bitcoin` - ะะฝะฐะปะธะท ัะฒะธัะพะฒ ะฟะพ ะทะฐะฟัะพัั
- `POST /analyze/tweet` - ะะฝะฐะปะธะท ะบะพะฝะบัะตัะฝะพะณะพ ัะฒะธัะฐ
- `GET /trading/recommendations?query=bitcoin` - ะขะพัะณะพะฒัะต ัะตะบะพะผะตะฝะดะฐัะธะธ

#### ะฃะฟัะฐะฒะปะตะฝะธะต ะพัะตัะตะดัะผะธ:

- `GET /queue/health` - ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั ะพัะตัะตะดะตะน
- `POST /queue/jobs/tweet-analysis` - ะะพะฑะฐะฒะธัั ะทะฐะดะฐัั ะฐะฝะฐะปะธะทะฐ ัะฒะธัะพะฒ
- `POST /queue/jobs/cleanup` - ะะพะฑะฐะฒะธัั ะทะฐะดะฐัั ะพัะธััะบะธ ะดะฐะฝะฝัั
- `POST /queue/jobs/notification` - ะะพะฑะฐะฒะธัั ะทะฐะดะฐัั ัะฒะตะดะพะผะปะตะฝะธั
- `GET /queue/stats` - ะกัะฐัะธััะธะบะฐ ะพัะตัะตะดะตะน
- `POST /queue/scheduler/start` - ะะฐะฟััะบ ะฟะปะฐะฝะธัะพะฒัะธะบะฐ
- `POST /queue/manual-analysis` - ะััะฝะพะน ะทะฐะฟััะบ ะฐะฝะฐะปะธะทะฐ

### AI Service (http://localhost:8000)

- `GET /health` - ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั ัะตัะฒะธัะฐ
- `POST /analyze/tweet` - ะะฝะฐะปะธะท ัะฒะธัะฐ
- `POST /analyze/news` - ะะฝะฐะปะธะท ะฝะพะฒะพััะธ
- `GET /` - ะะฝัะพัะผะฐัะธั ะพ ัะตัะฒะธัะต

## ะััะธัะตะบัััะฐ ะพัะตัะตะดะตะน

Tweet Analyzer ะธัะฟะพะปัะทัะตั ะฒัััะพะตะฝะฝัะต ะพัะตัะตะดะธ BullMQ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
โ         Tweet Analyzer              โโโโโถโ    Redis    โ
โ  โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ    โ    โโโโโโโโโโโโโโโ
โ  โ   NestJS    โ โ   BullMQ    โ    โ
โ  โ Controllers โ โ   Queues    โ    โ
โ  โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                   โ
                   โผ
           โโโโโโโโโโโโโโโโ
           โ  AI Service  โ
           โโโโโโโโโโโโโโโโ
```

### ะัะตะธะผััะตััะฒะฐ ะฒัััะพะตะฝะฝัั ะพัะตัะตะดะตะน BullMQ:

1. **ะะฝัะตะณัะฐัะธั**: ะะพะปะฝะฐั ะธะฝัะตะณัะฐัะธั ั NestJS ัะบะพัะธััะตะผะพะน
2. **ะะฐัััะฐะฑะธััะตะผะพััั**: ะะตัะบะพะปัะบะพ ะฒะพัะบะตัะพะฒ ะผะพะณัั ะพะฑัะฐะฑะฐััะฒะฐัั ะทะฐะดะฐัะธ ะฟะฐัะฐะปะปะตะปัะฝะพ
3. **ะะฐะดะตะถะฝะพััั**: ะะฒัะพะผะฐัะธัะตัะบะธะต ะฟะพะฒัะพัั ะฟัะธ ะพัะธะฑะบะฐั
4. **ะะพะฝะธัะพัะธะฝะณ**: ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ะฒัะฟะพะปะฝะตะฝะธั ะทะฐะดะฐั
5. **ะะธะฑะบะพััั**: ะัะธะพัะธัะธะทะฐัะธั ะทะฐะดะฐั ะธ ะฝะฐัััะฐะธะฒะฐะตะผัะต ัะฐัะฟะธัะฐะฝะธั
6. **ะฃะฟัะพัะตะฝะธะต**: ะะดะธะฝ ัะตัะฒะธั ะฒะผะตััะพ ะดะฒัั

## ะขะตััะธัะพะฒะฐะฝะธะต ะธะฝัะตะณัะฐัะธะธ

ะะฐะฟัััะธัะต ัะบัะธะฟั ัะตััะธัะพะฒะฐะฝะธั ะดะปั ะฟัะพะฒะตัะบะธ ัะฐะฑะพัั ะธะฝัะตะณัะฐัะธะธ:

```bash
python test_integration.py
```

## ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

### Tweet Analyzer

```env
PORT=3002
AI_SERVICE_URL=http://localhost:8000
TWITTER_SCRAPER_URL=http://localhost:3000
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
```

### AI Service

```env
OPENAI_API_KEY=your_openai_api_key
CREWAI_API_KEY=your_crewai_api_key
```

## ะะฐะทัะฐะฑะพัะบะฐ

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
digger/
โโโ apps/
โ   โโโ backend/
โ   โ   โโโ ai-service/          # AI ะฐะฝะฐะปะธะท (Python + FastAPI)
โ   โ   โโโ tweet-analyzer/      # ะะฝะฐะปะธะท ัะฒะธัะพะฒ (TypeScript)

โ   โ   โโโ tweet-scraper/       # ะกะฑะพั ัะฒะธัะพะฒ (Node.js)
โ   โ   โโโ freqtrade-manager/   # ะฃะฟัะฐะฒะปะตะฝะธะต ะฑะพัะฐะผะธ
โ   โโโ frontend/
โ       โโโ admin/               # ะะตะฑ-ะธะฝัะตััะตะนั (Next.js)
โโโ packages/                    # ะะฑัะธะต ะฟะฐะบะตัั
โโโ docker-compose.yml           # ะะพะฝัะธะณััะฐัะธั Docker
โโโ test_integration.py          # ะขะตััั ะธะฝัะตะณัะฐัะธะธ
```

### Workflow ัะฐะทัะฐะฑะพัะบะธ

1. **Queue Service**: ะะฐัััะพะนะบะฐ ะพัะตัะตะดะตะน ะธ ะฟะปะฐะฝะธัะพะฒัะธะบะพะฒ
2. **Tweet Analyzer**: ะะฝัะตะณัะฐัะธั ั Queue Service ะดะปั ัะพะฝะพะฒัั ะทะฐะดะฐั
3. **AI Service**: ะะฐะทัะฐะฑะพัะบะฐ AI ะฐะณะตะฝัะพะฒ ะธ ะทะฐะดะฐั
4. **ะขะตััะธัะพะฒะฐะฝะธะต**: ะัะฟะพะปัะทะพะฒะฐะฝะธะต `test_integration.py` ะดะปั ะฟัะพะฒะตัะบะธ ะธะฝัะตะณัะฐัะธะธ
5. **ะะตะฟะปะพะน**: ะงะตัะตะท Docker Compose

## ะะพะฝะธัะพัะธะฝะณ

- Queue Service: http://localhost:3004/health
- Tweet Analyzer: http://localhost:3002/health
- AI Service: http://localhost:8000/health
- Web Interface: http://localhost:3000
- Redis: localhost:6379

## ะะพะณะธ

```bash
# ะัะพัะผะพัั ะปะพะณะพะฒ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose logs -f

# ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ

docker-compose logs -f tweet-analyzer
docker-compose logs -f ai-service
docker-compose logs -f redis
```
